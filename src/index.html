<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="raphael-2.1.4.min.js"></script>
  <script src="justgage.js"></script>
</head>
<body>

<div id="gaugeC" class="200x160px"></div>

<script>
var gC = new JustGage({
  id: "gaugeC",
  value: 0,
  min: 0,
  max: 400,
  title: "Temperatura (C)"
});
getReadingC();
</script>

<div id="gaugeH" class="200x160px"></div>

<script>
var gH = new JustGage({
  id: "gaugeH",
  value: 0,
  min: 0,
  max: 100,
  title: "Humedad"
});
getReadingH();
</script>

<div id="gaugeF" class="200x160px"></div>

<script>
var gF = new JustGage({
  id: "gaugeF",
  value: 0,
  min: 0,
  max: 400,
  title: "Temperatura (F)"
});
getReadingF();
</script>

<button style="background-color: green; color: white; padding: 10px 20px; font-size: 16px; margin: 10px;" onclick="encenderLed()">Encender LED</button>
<button style="background-color: red; color: white; padding: 10px 20px; font-size: 16px; margin: 10px;" onclick="apagarLed()">Apagar LED</button>

<script>
var accessToken = "821c27db0c85e71f09b26372b4aef9802fbf0a79";
var deviceID = "0a10aced202194944a04ba38";

function encenderLed() {
  fetch("https://api.particle.io/v1/devices/" + deviceID + "/led", {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded",
      Authorization: "Bearer 821c27db0c85e71f09b26372b4aef9802fbf0a79",
    },
    body: "arg=on",
  })
  .then((response) => {
    console.log("LED encendido");
  })
  .catch((error) => {
    console.error("Error:", error);
  });
}

function apagarLed() {
  fetch("https://api.particle.io/v1/devices/" + deviceID + "/led", {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded",
      Authorization: "Bearer 821c27db0c85e71f09b26372b4aef9802fbf0a79",
    },
    body: "arg=off",
  })
  .then((response) => {
    console.log("LED apagado");
  })
  .catch((error) => {
    console.error("Error:", error);
  });
}
</script>

</body>
</html>
